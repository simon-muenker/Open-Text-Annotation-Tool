---

---

<button
  id="downloadData"
  class="relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden lg font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-green-300 via-blue-500 to-purple-600 group-hover:from-cyan-500 group-hover:to-blue-500 hover:text-white focus:ring-4 focus:outline-none focus:ring-cyan-200"
>
  <span
    class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white rounded-md group-hover:bg-opacity-0"
  >
    1. Download data
  </span>
</button>

<a
  class="ml-4 underline underline-offset-8 text-gray-600"
  href="https://seafile.rlp.net/u/d/e2a60cab32854c2d8e7a/"
  target="_blank">2. Upload to Cloud</a
>

<script>
  import { sha1 } from "object-hash";
  import { saveAs } from "file-saver";

  import { getCollatedStore } from "@/store.ts";

  const button = document.getElementById("downloadData");

  if (button != null) {
    button.addEventListener("click", () => {
      saveAs(
        new Blob([JSON.stringify(getCollatedStore(), null, 4)], {
          type: "application/json",
        }),
        Date.now() + sha1(getCollatedStore()) + ".json",
      );
    });
  }
</script>
