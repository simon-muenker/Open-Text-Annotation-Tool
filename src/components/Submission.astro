---

---

<button
  id="downloadData"
  class="lg group relative mb-2 mr-2 inline-flex items-center justify-center overflow-hidden rounded-lg bg-gradient-to-br from-green-300 via-blue-500 to-purple-600 p-0.5 font-medium text-gray-900 hover:text-white focus:outline-none focus:ring-4 focus:ring-cyan-200 group-hover:from-cyan-500 group-hover:to-blue-500"
>
  <span
    class="relative rounded-md bg-white px-5 py-2.5 transition-all duration-75 ease-in group-hover:bg-opacity-0"
  >
    1. Download data
  </span>
</button>

<a
  class="ml-4 text-gray-600 underline underline-offset-8"
  href="https://seafile.rlp.net/u/d/e2a60cab32854c2d8e7a/"
  target="_blank">2. Upload to Cloud</a
>

<script>
  import { sha1 } from "object-hash";
  import { saveAs } from "file-saver";

  import { getCollatedStore } from "@/store.ts";

  const button = document.getElementById("downloadData");

  if (button != null) {
    button.addEventListener("click", () => {
      saveAs(
        new Blob([JSON.stringify(getCollatedStore(), null, 4)], {
          type: "application/json",
        }),
        Date.now() + sha1(getCollatedStore()) + ".json",
      );
    });
  }
</script>
